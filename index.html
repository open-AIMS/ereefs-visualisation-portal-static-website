<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>AIMS eReefs Visualisation Portal - eReefs AIMS Visualisation Portal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/ereefs_aims_favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!--<div class="column-screen-inset banner-outer-container">-->
<!--    <div class="banner-container"></div>-->
<!--</div>-->


</head><body class="nav-fixed fullcontent"><section class="column-screen-inset banner"></section>
<div class="large-image-header" style="background-image:url('./images/front-page-crop1.jpg')"><!-- image is relative to index.qmd where it is imported -->
    <div class="overlay">&nbsp;</div>
    <div class="button-wrapper">
    <div class="button">
      <div>Explore the reef through time</div>
      <div><a href="./gbr4/temp-wind-salt-current"><img src="./images/video-button.svg"></a></div>
    </div>
  </div>
</div>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Roboto" rel="stylesheet">
<link rel="stylesheet" href="css/large_image_header.css">


<link rel="stylesheet" href="css/ereefs_aims.css">
<link rel="stylesheet" href="css/ncanimate2.css">
<link rel="stylesheet" href="css/ncanimate2_responsive.css">
<link rel="stylesheet" href="css/styles.css">




<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="https://www.ereefs.org.au/assets/images/logos/ereefs_logo.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">eReefs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.ereefs.org.au/" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">About</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="https://www.ereefs.org.au/research/" rel="" target="">
 <span class="dropdown-text">About eReefs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./about.html" rel="" target="">
 <span class="dropdown-text">About AIMS eReefs</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://www.ereefs.org.au/research/" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.ereefs.org.au/tools/" rel="" target="">
 <span class="menu-text">Tools</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.ereefs.org.au/contact/" rel="" target="">
 <span class="menu-text">Contact</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-help" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Help</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-help">    
        <li>
    <a class="dropdown-item" href="./help/index.html" rel="" target="">
 <span class="dropdown-text">Visualisation Portal Help</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://open-aims.github.io/ereefs-tutorials/" rel="" target="">
 <span class="dropdown-text">Tutorials <img src="./images/External_link_font_awesome.svg" class="external-link img-fluid" alt="External Link"></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://extraction.ereefs.aims.gov.au/faqs" rel="" target="">
 <span class="dropdown-text">Data Extraction FAQs <img src="./images/External_link_font_awesome.svg" class="external-link img-fluid" alt="External Link"></span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">eReefs AIMS Visualisation Portal</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this portal you will find a range of visualisations of the eReefs Hydrodynamic and BioGeoChemical models of the Great Barrier Reef. These models are like weather models, but for the marine environment, providing a picture of the current and historical environmental conditions on the Great Barrier Reef. Here you can see past extreme weather events such as:</p>
<ul>
<li>Cyclones: <a href="./gbr4/temp-wind-salt-current/index.html#year=2011;month=2"><strong>Yasi</strong> (Feb 2011)</a>, <a href="./gbr4/temp-wind-salt-current/index.html#year=2014;month=4"><strong>Ita</strong> (April 2014)</a>, <a href="./gbr4/temp-wind-salt-current/index.html#year=2015;month=3"><strong>Nathan</strong> (March 2015)</a>, <a href="./gbr4/temp-wind-salt-current/index.html#year=2017;month=3"><strong>Debbi</strong> (March 2017)</a>,</li>
<li>Coral bleaching from high temperature (<a href="./gbr4/temp-wind-salt-current/index.html#year=2016;month=3">March 2016</a>, <a href="./gbr4/temp-wind-salt-current/index.html#year=2017;month=3">March 2017</a>),</li>
<li>Flood plumes with low salinity (<a href="./gbr1/salt-multi-depth/index.html#region=townsville-3;year=2019;month=2">North Queensland Flooding 2019</a>, <a href="./gbr1/salt-multi-depth/index.html#year=2011;month=1;region=townsville-3">Burdekin Jan 2011</a>)</li>
</ul>
<p>This site provides both direct visualisations of the outputs of the eReefs Hydrodynamic and BioGeoChemical models and aggregations of the hourly and daily data to longer time periods (monthly and annual).</p>
<section id="ereefs-csiro-hydrodynamic-model" class="level2">
<h2 class="anchored" data-anchor-id="ereefs-csiro-hydrodynamic-model">eReefs CSIRO Hydrodynamic Model</h2>
<p>The <a href="https://research.csiro.au/ereefs/models/models-about/models-hydrodynamics/">eReefs hydrodynamic model</a> predicts the movement of water and key environmental conditions (temperature, salinity, currents, tides). This model allows us to better understand how cyclones mix the water, the location of potentially damaging heat waves, the ocean currents that disperse larvae of corals and Crown-of-Thorns starfish, and fresh water plumes from flooded rivers that can damage inshore reefs.</p>
<p>This model is run with a 4 km and 1 km grid size. The 4 km grid has a longer hindcast going back to September 2010, while the 1 km model starts in December 2014. The 1 km model also only extends out to the edge of the Great Barrier Reef, whereas the 4 km model covers much of the Coral Sea. The hydrodynamic model and visualisations are normally updated in near-real time, within 1 week of the current date.</p>
<p>Note: The eReefs models are currently not being run in near-real time by CSIRO as a result this site only shows the back catalogue up to mid 2020. Near realtime results are expected to be back in operation by the end of 2020.</p>
<div class="ncanimate-products">
<section id="km-model-sept-2010---present" class="level3 ncanimate-product-tile">
<h3 class="anchored" data-anchor-id="km-model-sept-2010---present">4 km model (Sept 2010 - present)</h3>
<section id="water-movement-and-physical-characteristics" class="level4">
<h4 class="anchored" data-anchor-id="water-movement-and-physical-characteristics">Water movement and physical characteristics</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/AIMS-JL009front007-500x250.jpg" class="img-fluid figure-img" alt="Waves break on the front reef creating a tough environment for corals to grow. Note the large encrusting soft coral below the breaking wave."></p>
</figure>
</div>
<ul>
<li><a href="./gbr4/temp-wind-salt-current/index.html">Temperature, wind, salinity and current</a></li>
<li><a href="./gbr4/temp-multi-depth/index.html">Temperature at 1.5m, 18m and 49m depth</a></li>
<li><a href="./gbr4/current-multi-depth/index.html">Current at 1.5m, 18m and 103m depth</a></li>
<li><a href="./gbr4/temp-range/index.html">Temperature range at 1.5m</a></li>
<li><a href="./gbr4/imos-vs-ereefs/index.html">Comparing eReefs (GBR4 temperature, current) to IMOS satellite temperature and ocean current</a></li>
</ul>
</section>
</section>
<section id="km-model-dec-2014---present" class="level3 ncanimate-product-tile">
<h3 class="anchored" data-anchor-id="km-model-dec-2014---present">1 km model (Dec 2014 - present)</h3>
<section id="water-movement-and-physical-characteristics-1" class="level4">
<h4 class="anchored" data-anchor-id="water-movement-and-physical-characteristics-1">Water movement and physical characteristics</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/AIMS-JL009front007-500x250.jpg" class="img-fluid figure-img" alt="Waves break on the front reef creating a tough environment for corals to grow. Note the large encrusting soft coral below the breaking wave."></p>
</figure>
</div>
<ul>
<li><a href="./gbr1/temp-wind-salt-current">Temperature, wind, salinity and current</a></li>
<li><a href="./gbr1/temp-multi-depth">Temperature at 2.35m, 18m and 49m depth</a></li>
<li><a href="./gbr1/current-multi-depth">Current at 2.35m, 18m and 103m depth</a></li>
<li><a href="./gbr1/salt-multi-depth">Salinity at 2.35m, 5.35m and 18m depth</a></li>
<li><a href="./gbr1/fresh-water-exposure">Fresh water exposure at 2.35m</a></li>
<li><a href="./gbr1/current-magnitude-average">Current magnitude average at 2.35m</a></li>
<li><a href="./gbr1/temp-range">Temperature range at 2.35m</a></li>
<li><a href="./gbr1/river-tracers">Flood plume extents for major rivers on GBR based on modelled river tracers</a></li>
</ul>
</section>
</section>
</div>
</section>
<section id="ereefs-csiro-biogeochemical-model-4-km" class="level2">
<h2 class="anchored" data-anchor-id="ereefs-csiro-biogeochemical-model-4-km">eReefs CSIRO BioGeoChemical model (4&nbsp;km)</h2>
<p>The <a href="https://research.csiro.au/ereefs/models/models-about/models-biogeochemistry/">GBR4 BioGeoChemical (GBR) model</a> builds on the GBR4 hydrodynamic model by modelling the water quality (nutrients and <a href="https://research.csiro.au/ereefs/models/models-about/models-sediment-transport/">suspended sediment</a>) and key ecological processes (coral, seagrass, plankton) that drive the water chemistry. This model allows us to better understand how water quality is affected by land runoff. Detailed information about the model can be found in the paper: <a href="https://doi.org/10.5194/gmd-2019-115">CSIRO Environmental Modelling Suite (EMS): Scientific description of the optical and biogeochemical models (vB3p0)</a>.</p>
<p>The visualisations on this site are based on version 3.1 of the BioGeoChemical (BGC) model with the baseline conditions. Version 3.1 of the BGC was developed to compare the effects of land practice improvements on water quality changes in the Great Barrier Reef. It was run with three scenarios of river sediment and nutrient loads to simulate the differences between baseline conditions (based on current land use practices in 2019), pre-industrial catchment conditions, and target catchment conditions (anthropogenic loads reduced according to the percentage reductions of DIN, PN, PP and TSS specified in the <a href="https://www.reefplan.qld.gov.au/__data/assets/pdf_file/0017/46115/reef-2050-water-quality-improvement-plan-2017-22.pdf">Reef 2050 Water Quality Improvement Plan 2017-2022</a>). This site currently only visualises the baseline scenario run of the model, however data is available for the other scenarios via the <a href="https://dapds00.nci.org.au/thredds/catalogs/fx3/catalog.html">NCI THREDDS service</a> (raw model data in curvilinear NetCDF format), the <a href="https://extraction.ereefs.aims.gov.au/?_gl=1*1h5mq5j*_ga*OTM5OTM3MTMzLjE2NjczNTcwNzg.*_ga_6SSTNBNHXG*MTY5NDQ4MTU0NS42Ni4xLjE2OTQ0ODc3NzkuMC4wLjA.">AIMS Data Extraction tool</a> (time series extraction in CSV format) and regridded and aggregated format via the <a href="https://thredds.ereefs.aims.gov.au/thredds/catalog/catalog.html">AIMS eReefs THREDDS service</a>.</p>
<p>A <a href="https://research.csiro.au/ereefs/wp-content/uploads/sites/34/2020/08/Reanalysis_v1_August2020.pdf">technical assessment of the skill level of the BGC version 3.1 model</a> shows that the absolute accuracy of the BGC model varies significantly with variable and location. A older analysis on the BGC version 2.0 (<a href="https://doi.org/10.1016/j.jmarsys.2018.12.006">Skerratt et al., 2018</a>) provides additional background on the skill of the BGC model. As a result care should be taken to ensure the model is fit-for-purpose and in general BGC results should used in combination with second sources of information for making recommendations.</p>
<div class="ncanimate-products">
<section id="water-chemistry" class="level3 ncanimate-product-tile">
<h3 class="anchored" data-anchor-id="water-chemistry">Water chemistry</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/Blue_Soda_bubbles_macro-500x250.jpg" class="img-fluid figure-img" alt="Bubles suspended in water"></p>
</figure>
</div>
<ul>
<li><a href="./gbr4/bgc/baseline/alk_ph_omega-ar">Total alkalinity, PH &amp; Aragonite saturation state</a></li>
<li><a href="./gbr4/bgc/baseline/din_no3_nh4">Dissolved inorganic nitrogen, nitrate &amp; ammonia</a></li>
<li><a href="./gbr4/bgc/baseline/oxygen_oxy-sat">Dissolved Oxygen &amp; oxygen saturation percentage</a></li>
<li><a href="./gbr4/bgc/baseline/din_dip_dic">Dissolved Inorganic (Carbon, Nitrogen &amp; Phosphorus)</a></li>
<li><a href="./gbr4/bgc/baseline/dor-c_dor-n_dor-p">Dissolved Organic (Carbon, Nitrogen &amp; Phosphorus)</a></li>
<li><a href="./gbr4/bgc/baseline/pip_pip-sed">Particulate inorganic phosphorus &amp; particulate inorganic</a></li>
</ul>
</section>
<section id="water-quality-measures" class="level3 ncanimate-product-tile">
<h3 class="anchored" data-anchor-id="water-quality-measures">Water Quality Measures</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/middles3-229-500x250.jpg" class="img-fluid figure-img" alt="A turbid seascape"></p>
</figure>
</div>
<ul>
<li><a href="./gbr4/bgc/baseline/chl-a-sum_din_efi">Total chlorophyll, dissolved inorganic nitrogen &amp; total suspended solids</a></li>
<li><a href="./gbr4/bgc/baseline/efi_dust_mud-carbonate_mud-mineral">Total Suspended Solids, dust, mud carbonate &amp; mud mineral</a></li>
<li><a href="./gbr4/bgc/baseline/secchi_kd-490_epipar-sg">Secchi depth, vertical attenuation at 490nm &amp; light intensity above seagrass</a></li>
<li><a href="./gbr4/bgc/baseline/true-colour">Simulated true colour</a></li>
</ul>
</section>
<section id="macroalgae-seagrass-and-coral" class="level3 ncanimate-product-tile">
<h3 class="anchored" data-anchor-id="macroalgae-seagrass-and-coral">Macroalgae, seagrass and coral</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/AIMS-Coral-IMG_0362-500x250.jpg" class="img-fluid figure-img" alt="A colony of hard corals"></p>
</figure>
</div>
<ul>
<li><a href="./gbr4/bgc/baseline/cs-n_cs-chl_ch-n">Coral symbiont (nitrogen &amp; chlorophyll) &amp; coral host nitrogen</a></li>
<li><a href="./gbr4/bgc/baseline/ma-n_sg-n_sgh-n_sgd-n">Nitrogen (macroalgae, seagrass zostera, seagrass halophila &amp; deep seagrass)</a></li>
</ul>
</section>
</div>
<section id="refereneces" class="level4">
<h4 class="anchored" data-anchor-id="refereneces">Refereneces</h4>
<p>Skerratt, J, Mongin, M, Baird, M, Wild-Allen, K, Robson, B, Schaffelke, B, Davies, C, Richardson, A, Margvelashvili, N, Soja-Wozniak, M, and Steven, A, 2019a, Simulated nutrient and plankton dynamics in the Great Barrier Reef (2011-2016), Journal of Marine Systems, vol.&nbsp;192, pp.&nbsp;51-74, <a href="http://dx.doi.org/10.1016/j.jmarsys.2018.12.006" class="uri">http://dx.doi.org/10.1016/j.jmarsys.2018.12.006</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://www.ereefs.org.au/about/collaborators.html">Collaborators</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.ereefs.org.au/about/funders.html">Funders</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.csiro.au/en/About/Access-to-information/Privacy">Privacy Policy<img src="./images/External_link_font_awesome.svg" class="external-link img-fluid" alt="External Link"></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.csiro.au/en/About/Footer/Legal-notice">Legal &amp; Disclaimer<img src="./images/External_link_font_awesome.svg" class="external-link img-fluid" alt="External Link"></a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>